using System;
using System.IO;
using UnityEngine;

// Token: 0x02000774 RID: 1908
public class UICarSupplierRolloverTrigger : MonoBehaviour
{
	// Token: 0x06003508 RID: 13576
	public UICarSupplierRolloverTrigger()
	{
	}

	// Token: 0x06003509 RID: 13577
	public void Setup(Team inTeam, bool inForceCurrentSuppliers = false)
	{
		this.mTeam = inTeam;
		this.mForceCurrentSuppliers = inForceCurrentSuppliers;
		this.mSupplierRolloverWidget = UIManager.instance.dialogBoxManager.GetDialog<SupplierRolloverWidget>();
		this.background = new Texture2D(350, 600);
		this.a = new Texture2D(62, 62);
		this.b = new Texture2D(62, 62);
		this.c = new Texture2D(62, 62);
		this.d = new Texture2D(62, 62);
		this.e = new Texture2D(62, 62);
		this.brakes = new Texture2D(62, 62);
		this.brakesh = new Texture2D(62, 62);
		this.frontwing = new Texture2D(62, 62);
		this.frontwingh = new Texture2D(62, 62);
		this.rearwing = new Texture2D(62, 62);
		this.rearwingh = new Texture2D(62, 62);
		this.suspension = new Texture2D(62, 62);
		this.suspensionh = new Texture2D(62, 62);
		this.engine = new Texture2D(62, 62);
		this.engineh = new Texture2D(62, 62);
		this.gearbox = new Texture2D(62, 62);
		this.gearboxh = new Texture2D(62, 62);
		this.qualityTexture = new Texture2D(62, 62);
		this.qualityTexture2 = new Texture2D(62, 62);
		this.qualityTexture3 = new Texture2D(62, 62);
		this.qualityTexture4 = new Texture2D(62, 62);
		this.guistyle = new GUIStyle();
		this.guistyle2 = new GUIStyle();
		this.guistyle3 = new GUIStyle();
		this.guistyle4 = new GUIStyle();
		this.button1 = new Rect((float)Screen.width * 0.08f, (float)Screen.height * 0.1f, (float)Screen.width * 300f / 1920f, (float)Screen.height * 900f / 1080f);
		this.button2 = new Rect((float)Screen.width * 0.1f, (float)Screen.height * 0.15f, (float)Screen.width * 0.2f, (float)Screen.height * 0.05f);
		this.button3 = new Rect((float)Screen.width * 0.2f, (float)Screen.height * 0.16f, 31f, 31f);
		this.button4 = new Rect((float)Screen.width * 0.1f, (float)Screen.height * 0.25f, (float)Screen.width * 0.2f, (float)Screen.height * 0.05f);
		this.button5 = new Rect((float)Screen.width * 0.2f, (float)Screen.height * 0.26f, 31f, 31f);
		this.button6 = new Rect((float)Screen.width * 0.1f, (float)Screen.height * 0.35f, (float)Screen.width * 0.2f, (float)Screen.height * 0.05f);
		this.button7 = new Rect((float)Screen.width * 0.2f, (float)Screen.height * 0.36f, 31f, 31f);
		this.button8 = new Rect((float)Screen.width * 0.1f, (float)Screen.height * 0.45f, (float)Screen.width * 0.2f, (float)Screen.height * 0.05f);
		this.button9 = new Rect((float)Screen.width * 0.2f, (float)Screen.height * 0.46f, 31f, 31f);
		byte[] data = File.ReadAllBytes("texture/supplierrolloverbackground.png");
		this.background.LoadImage(data);
		data = File.ReadAllBytes("texture/reg.png");
		this.a.LoadImage(data);
		data = File.ReadAllBytes("texture/good.png");
		this.b.LoadImage(data);
		data = File.ReadAllBytes("texture/great.png");
		this.c.LoadImage(data);
		data = File.ReadAllBytes("texture/epic.png");
		this.d.LoadImage(data);
		data = File.ReadAllBytes("texture/legend.png");
		this.e.LoadImage(data);
		data = File.ReadAllBytes("texture/brakes.png");
		this.brakes.LoadImage(data);
		data = File.ReadAllBytes("texture/brakesh.png");
		this.brakesh.LoadImage(data);
		data = File.ReadAllBytes("texture/frontwing.png");
		this.frontwing.LoadImage(data);
		data = File.ReadAllBytes("texture/frontwingh.png");
		this.frontwingh.LoadImage(data);
		data = File.ReadAllBytes("texture/rearwing.png");
		this.rearwing.LoadImage(data);
		data = File.ReadAllBytes("texture/rearwingh.png");
		this.rearwingh.LoadImage(data);
		data = File.ReadAllBytes("texture/suspension.png");
		this.suspension.LoadImage(data);
		data = File.ReadAllBytes("texture/suspensionh.png");
		this.suspensionh.LoadImage(data);
		data = File.ReadAllBytes("texture/engine.png");
		this.engine.LoadImage(data);
		data = File.ReadAllBytes("texture/engineh.png");
		this.engineh.LoadImage(data);
		data = File.ReadAllBytes("texture/gearbox.png");
		this.gearbox.LoadImage(data);
		data = File.ReadAllBytes("texture/gearboxh.png");
		this.gearboxh.LoadImage(data);
		if (Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierEngine != null)
		{
			this.areaImprovementa = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierEngine.areaImprovementa;
			this.areaImprovementStrengtha = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierEngine.areaImprovementStrengtha;
			switch (this.areaImprovementStrengtha)
			{
			case 1:
				this.qualityTexture = this.a;
				break;
			case 2:
				this.qualityTexture = this.b;
				break;
			case 3:
				this.qualityTexture = this.c;
				break;
			case 4:
				this.qualityTexture = this.d;
				break;
			case 5:
				this.qualityTexture = this.e;
				break;
			}
			this.guistyle.normal.textColor = Color.white;
			this.guistyle.alignment = TextAnchor.MiddleCenter;
			this.guistyle.fontSize = 14;
			switch (this.areaImprovementa)
			{
			case 0:
				this.guistyle.normal.background = this.brakes;
				this.guistyle.hover.background = this.brakesh;
				break;
			case 1:
				this.guistyle.normal.background = this.frontwing;
				this.guistyle.hover.background = this.frontwingh;
				break;
			case 2:
				this.guistyle.normal.background = this.rearwing;
				this.guistyle.hover.background = this.rearwingh;
				break;
			case 3:
				this.guistyle.normal.background = this.suspension;
				this.guistyle.hover.background = this.suspensionh;
				break;
			case 4:
				this.guistyle.normal.background = this.engine;
				this.guistyle.hover.background = this.engineh;
				break;
			case 5:
				this.guistyle.normal.background = this.gearbox;
				this.guistyle.hover.background = this.gearboxh;
				break;
			}
		}
		if (Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierBrakes != null)
		{
			this.areaImprovementa2 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierBrakes.areaImprovementa;
			this.areaImprovementStrengtha2 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierBrakes.areaImprovementStrengtha;
			switch (this.areaImprovementStrengtha2)
			{
			case 1:
				this.qualityTexture2 = this.a;
				break;
			case 2:
				this.qualityTexture2 = this.b;
				break;
			case 3:
				this.qualityTexture2 = this.c;
				break;
			case 4:
				this.qualityTexture2 = this.d;
				break;
			case 5:
				this.qualityTexture2 = this.e;
				break;
			}
			this.guistyle2.normal.textColor = Color.white;
			this.guistyle2.alignment = TextAnchor.MiddleCenter;
			this.guistyle2.fontSize = 14;
			switch (this.areaImprovementa2)
			{
			case 0:
				this.guistyle2.normal.background = this.brakes;
				this.guistyle2.hover.background = this.brakesh;
				break;
			case 1:
				this.guistyle2.normal.background = this.frontwing;
				this.guistyle2.hover.background = this.frontwingh;
				break;
			case 2:
				this.guistyle2.normal.background = this.rearwing;
				this.guistyle2.hover.background = this.rearwingh;
				break;
			case 3:
				this.guistyle2.normal.background = this.suspension;
				this.guistyle2.hover.background = this.suspensionh;
				break;
			case 4:
				this.guistyle2.normal.background = this.engine;
				this.guistyle2.hover.background = this.engineh;
				break;
			case 5:
				this.guistyle2.normal.background = this.gearbox;
				this.guistyle2.hover.background = this.gearboxh;
				break;
			}
		}
		if (Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierMaterials != null)
		{
			this.areaImprovementa3 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierMaterials.areaImprovementa;
			this.areaImprovementStrengtha3 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierMaterials.areaImprovementStrengtha;
			switch (this.areaImprovementStrengtha3)
			{
			case 1:
				this.qualityTexture3 = this.a;
				break;
			case 2:
				this.qualityTexture3 = this.b;
				break;
			case 3:
				this.qualityTexture3 = this.c;
				break;
			case 4:
				this.qualityTexture3 = this.d;
				break;
			case 5:
				this.qualityTexture3 = this.e;
				break;
			}
			this.guistyle3.normal.textColor = Color.white;
			this.guistyle3.alignment = TextAnchor.MiddleCenter;
			this.guistyle3.fontSize = 14;
			switch (this.areaImprovementa3)
			{
			case 0:
				this.guistyle3.normal.background = this.brakes;
				this.guistyle3.hover.background = this.brakesh;
				break;
			case 1:
				this.guistyle3.normal.background = this.frontwing;
				this.guistyle3.hover.background = this.frontwingh;
				break;
			case 2:
				this.guistyle3.normal.background = this.rearwing;
				this.guistyle3.hover.background = this.rearwingh;
				break;
			case 3:
				this.guistyle3.normal.background = this.suspension;
				this.guistyle3.hover.background = this.suspensionh;
				break;
			case 4:
				this.guistyle3.normal.background = this.engine;
				this.guistyle3.hover.background = this.engineh;
				break;
			case 5:
				this.guistyle3.normal.background = this.gearbox;
				this.guistyle3.hover.background = this.gearboxh;
				break;
			}
		}
		if (Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierFuel == null)
		{
			return;
		}
		this.areaImprovementa4 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierFuel.areaImprovementa;
		this.areaImprovementStrengtha4 = Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierFuel.areaImprovementStrengtha;
		switch (this.areaImprovementStrengtha4)
		{
		case 1:
			this.qualityTexture4 = this.a;
			break;
		case 2:
			this.qualityTexture4 = this.b;
			break;
		case 3:
			this.qualityTexture4 = this.c;
			break;
		case 4:
			this.qualityTexture4 = this.d;
			break;
		case 5:
			this.qualityTexture4 = this.e;
			break;
		}
		this.guistyle4.normal.textColor = Color.white;
		this.guistyle4.alignment = TextAnchor.MiddleCenter;
		this.guistyle4.fontSize = 14;
		switch (this.areaImprovementa4)
		{
		case 0:
			this.guistyle4.normal.background = this.brakes;
			this.guistyle4.hover.background = this.brakesh;
			return;
		case 1:
			this.guistyle4.normal.background = this.frontwing;
			this.guistyle4.hover.background = this.frontwingh;
			return;
		case 2:
			this.guistyle4.normal.background = this.rearwing;
			this.guistyle4.hover.background = this.rearwingh;
			return;
		case 3:
			this.guistyle4.normal.background = this.suspension;
			this.guistyle4.hover.background = this.suspensionh;
			return;
		case 4:
			this.guistyle4.normal.background = this.engine;
			this.guistyle4.hover.background = this.engineh;
			return;
		case 5:
			this.guistyle4.normal.background = this.gearbox;
			this.guistyle4.hover.background = this.gearboxh;
			return;
		default:
			return;
		}
	}

	// Token: 0x0600350A RID: 13578
	private void Update()
	{
		GameUtility.HandlePopup(ref this.mActivated, base.gameObject, new Action(this.ShowRollover), new Action(this.HideRollover));
	}

	// Token: 0x0600350B RID: 13579
	private void OnDisable()
	{
		if (this.mDisplay)
		{
			this.HideRollover();
		}
	}

	// Token: 0x0600350C RID: 13580
	private void ShowRollover()
	{
		this.mSupplierRolloverWidget.Open(this.mTeam, this.mForceCurrentSuppliers);
		this.mDisplay = true;
	}

	// Token: 0x0600350D RID: 13581
	private void HideRollover()
	{
		this.mDisplay = false;
		this.mSupplierRolloverWidget.Close();
	}

	// Token: 0x0600350E RID: 13582
	public void OnGUI()
	{
		if (this.mDisplay)
		{
			GUI.Button(this.button1, this.background, GUIStyle.none);
			Texture2D supplierLogo = App.instance.assetManager.GetSupplierLogo(Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierEngine);
			GUI.Button(this.button2, supplierLogo, GUIStyle.none);
			if (this.areaImprovementStrengtha > 0)
			{
				GUI.Button(this.button3, this.qualityTexture, this.guistyle);
			}
			Texture2D supplierLogo2 = App.instance.assetManager.GetSupplierLogo(Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierBrakes);
			GUI.Button(this.button4, supplierLogo2, GUIStyle.none);
			if (this.areaImprovementStrengtha2 > 0)
			{
				GUI.Button(this.button5, this.qualityTexture2, this.guistyle2);
			}
			Texture2D supplierLogo3 = App.instance.assetManager.GetSupplierLogo(Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierMaterials);
			GUI.Button(this.button6, supplierLogo3, GUIStyle.none);
			if (this.areaImprovementStrengtha3 > 0)
			{
				GUI.Button(this.button7, this.qualityTexture3, this.guistyle3);
			}
			Texture2D supplierLogo4 = App.instance.assetManager.GetSupplierLogo(Game.instance.player.team.carManager.GetCar(0).ChassisStats.supplierFuel);
			GUI.Button(this.button8, supplierLogo4, GUIStyle.none);
			if (this.areaImprovementStrengtha4 > 0)
			{
				GUI.Button(this.button9, this.qualityTexture4, this.guistyle4);
			}
		}
	}



	// Token: 0x04003164 RID: 12644
	private bool mActivated;

	// Token: 0x04003165 RID: 12645
	private bool mDisplay;

	// Token: 0x04003166 RID: 12646
	private Team mTeam;

	// Token: 0x04003167 RID: 12647
	private bool mForceCurrentSuppliers;

	// Token: 0x04003168 RID: 12648
	private SupplierRolloverWidget mSupplierRolloverWidget;

	// Token: 0x04003169 RID: 12649
	private Texture2D background;

	// Token: 0x0400316A RID: 12650
	private Texture2D a;

	// Token: 0x0400316B RID: 12651
	private Texture2D b;

	// Token: 0x0400316C RID: 12652
	private Texture2D c;

	// Token: 0x0400316D RID: 12653
	private Texture2D d;

	// Token: 0x0400316E RID: 12654
	private Texture2D e;

	// Token: 0x0400316F RID: 12655
	private Texture2D brakes;

	// Token: 0x04003170 RID: 12656
	private Texture2D brakesh;

	// Token: 0x04003171 RID: 12657
	private Texture2D frontwing;

	// Token: 0x04003172 RID: 12658
	private Texture2D frontwingh;

	// Token: 0x04003173 RID: 12659
	private Texture2D rearwing;

	// Token: 0x04003174 RID: 12660
	private Texture2D rearwingh;

	// Token: 0x04003175 RID: 12661
	private Texture2D suspension;

	// Token: 0x04003176 RID: 12662
	private Texture2D suspensionh;

	// Token: 0x04003177 RID: 12663
	private Texture2D engine;

	// Token: 0x04003178 RID: 12664
	private Texture2D engineh;

	// Token: 0x04003179 RID: 12665
	private Texture2D gearbox;

	// Token: 0x0400317A RID: 12666
	private Texture2D gearboxh;

	// Token: 0x0400317B RID: 12667
	private Texture2D qualityTexture;

	// Token: 0x0400317C RID: 12668
	private Texture2D qualityTexture2;

	// Token: 0x0400317D RID: 12669
	private Texture2D qualityTexture3;

	// Token: 0x0400317E RID: 12670
	private Texture2D qualityTexture4;

	// Token: 0x0400317F RID: 12671
	private GUIStyle guistyle;

	// Token: 0x04003180 RID: 12672
	private GUIStyle guistyle2;

	// Token: 0x04003181 RID: 12673
	private GUIStyle guistyle3;

	// Token: 0x04003182 RID: 12674
	private GUIStyle guistyle4;

	// Token: 0x04003183 RID: 12675
	private Rect button1;

	// Token: 0x04003184 RID: 12676
	private Rect button2;

	// Token: 0x04003185 RID: 12677
	private Rect button3;

	// Token: 0x04003186 RID: 12678
	private Rect button4;

	// Token: 0x04003187 RID: 12679
	private Rect button5;

	// Token: 0x04003188 RID: 12680
	private Rect button6;

	// Token: 0x04003189 RID: 12681
	private Rect button7;

	// Token: 0x0400318A RID: 12682
	private Rect button8;

	// Token: 0x0400318B RID: 12683
	private Rect button9;

	// Token: 0x040051EF RID: 20975
	private int areaImprovementStrengtha;

	// Token: 0x040051F0 RID: 20976
	private int areaImprovementStrengtha2;

	// Token: 0x040051F1 RID: 20977
	private int areaImprovementStrengtha3;

	// Token: 0x040051F2 RID: 20978
	private int areaImprovementStrengtha4;

	// Token: 0x040051F3 RID: 20979
	private int areaImprovementa;

	// Token: 0x040051F4 RID: 20980
	private int areaImprovementa2;

	// Token: 0x040051F5 RID: 20981
	private int areaImprovementa3;

	// Token: 0x040051F6 RID: 20982
	private int areaImprovementa4;
}
